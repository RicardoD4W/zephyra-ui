---
import customElements from '../data/componentList.json';
import customCSS from '../data/cssCustomList.json';

const pagination = ['/', '/usage'].concat(
  customElements
    .map((component) => `/components/${component.title}`)
    .concat(customCSS.map((component) => `/css-custom/${component.title}`))
);

const url = new URL(Astro.request.url);
let actualPage = url.pathname;
actualPage.at(-1) === '/' ? (actualPage = actualPage.slice(0, -1)) : actualPage;

const nextPage =
  pagination[pagination.findIndex((item) => item === actualPage) + 1];
const pastPage =
  pagination[pagination.findIndex((item) => item === actualPage) - 1];
---

<script>
  import './zephyra-pagination';
</script>

<zephyra-pagination
  actualPage={actualPage}
  nextPage={nextPage}
  pastPage={pastPage}
></zephyra-pagination>
